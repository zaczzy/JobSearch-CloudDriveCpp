<html>
<head>
	<style>
		li {display:inline}
	</style>
</head>
<body>
	<ul>
		<li><a href="/index.html">Home</a></li>
		<li><a href="/mail/inbox">Mail</a></li>
		<li><a href="/storage.html">Storage</a></li>
		<form action='/handle_logout' method='post' style='display:inline;'>
			<button type='submit' name='logout' value='logout'>Logout</button>
		</form>
	</ul>
	<h1>Storage</h1>
	<h2>File List</h2>
	<p>Current directory: {{path}}</p>
	{{file_names}}

	<h2> Upload file to this directory </h2>
	<!-- two possibilities: "/upload/r00t" or "/upload/r00t/dir1/dir2" -->
	<form action="/upload{{path}}" method="post" enctype="multipart/form-data">
		<p>
			Specify your File:<br>
			<input type="file" name="upload_name" id="fileUpload">
		</p>
		<div>
			<input type="submit" value="Upload File">
		</div>
	</form>

	<div><a href="{{parent_href}}">View parent directory</a></div>

	<form action="/addfolder{{path}}" method="post">
		<div><input type="text" name="newfdr_name"></div>
		<div><input type="submit" value="Create Folder"></div>
	</form>
</body>

</html>
<script type="text/javascript">
	var uploadField = document.getElementById("fileUpload");
	uploadField.onchange = function () {
		if (this.files[0].size > 98999) {
			alert("File is too big!");
			this.value = "";
		} else if (this.files[0].size == 0){
			alert("File not chosen.");
			this.value = "";
		};
	};
</script>