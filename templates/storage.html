<html>
<head>
	<!-- <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script> -->
</head>
<body>
	<h1>Storage</h1>
	<h2>File List</h2>
	<p>Current directory: {{path}}</p>
	{{file_names}}

	<h2> Upload file to this directory </h2>
	<!-- two possibilities: "/upload/r00t" or "/upload/r00t/dir1/dir2" -->
	<form action="/upload{{path}}" method="post" enctype="multipart/form-data">
		<p>
			Specify your File:<br>
			<input type="file" name="upload_name" id="file_upload"/>
		</p>
		<div>
			<input type="submit" value="Upload File" id="submit_file"/>
			<!-- <input type="submit" value="Upload File" id="submit_file" disabled/> -->
		</div>
	</form>

	<div><a href="{{parent_href}}">View parent directory</a></div>

	<form action="/addfolder{{path}}" method="post">
		<div><input type="text" name="newfdr_name"></div>
		<div><input type="submit" value="Create Folder"></div>
	</form>
</body>

</html>
<script type="text/javascript">
	// $(document).ready(
    // function(){
    //     $('#file_upload').change(
    //         function(){
    //             if ($(this).val()) {
    //                 $('#submit_file').removeAttr('disabled');
    //             } 
    //         }
    //         );
    // });
	var uploadField = document.getElementById("fileUpload");
	uploadField.onchange = function () {
		if (this.files[0].size > 98999) {
			alert("File is too big!");
			this.value = "";
		} else if (this.files[0].size == 0){
			alert("File not chosen.");
			this.value = "";
		};
	};
</script>